---
title: "HUDM6026 Homework_04"
author: Seng Lei and Chenguang Pan
date: Feb 05, 2023
output:
  pdf_document:
    toc: false
    toc_depth: 4
    number_sections: false
    keep_tex: true
    highlight: tang
---

```{r setup, include=FALSE}
## Global options
knitr::opts_chunk$set(
  cache = TRUE,
  prompt = TRUE,
  comment = '',
  collapse = TRUE,
  warning = FALSE,
  message = FALSE)
```

## PART 01: Homework 03's Solution  
Step 1, input the given variance-covariance matrix; Note, since these ten variables follow the standard normal distribution, the values in correlation matrix is same to the value in var-cov martix.
```{r}
library(mvtnorm)
cov = matrix(c(1,0,0,0,0.2,0,0,0,0,0,
               0,1,0,0,0,0.9,0,0,0,0,
               0,0,1,0,0,0,0,0.2,0,0,
               0,0,0,1,0,0,0,0,0.9,0,
               0.2,0,0,0,1,0,0,0,0,0,
               0,0.9,0,0,0,1,0,0,0,0,
               0,0,0,0,0,0,1,0,0,0,
               0,0,0.2,0,0,0,0,1,0,0,
               0,0,0,0.9,0,0,0,0,1,0,
               0,0,0,0,0,0,0,0,0,1),10,10)
# randomly generate one row of data to test this matrix
# X <- rmvnorm(1,sigma = cov) # looking good
```  
Step 2, write a function to generate 500 observations
```{r}
dat_gen <- function(n, cov){
  return(rmvnorm(n, mean=rep(0,10), sigma=cov))}
s1 <- dat_gen(500, cov)
head(s1) # looking good
```    
Step 3, dicotormize the 1st, 3rd, 5th, 6th, 8th, and 9th variable within a for-loop.
```{r}
for (i in c(1,3,5,6,8,9)) {
  s1[,i] <- ifelse(s1[,i] > mean(s1[,i]), 1, 0)
}
head(s1)
```  

## PART 02: Homework 03 Continued   
For this homework, I choose the scenario B: $$Pr[A=1|W_i]=(1+e^{-(\beta_0+\beta_1W_1+\beta_2W_2+\beta_3W_3+\beta_4W_4+\beta_5W_5 +\beta_6W_6+\beta_7W_7+\beta_2W_2W_2)})^{-1}$$.



